var themeObje = {
    "avtr": {
        "desktop": {
            "heightValueMeta": 45, "widthValueMeta": 45, "topBorderRadiusMeta": 50, "rightBorderRadiusMeta": 50, "bottomBorderRadiusMeta": 50, "leftBorderRadiusMeta": 50, "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "logoImage": "https://backend.chatbase.co/storage/v1/object/public/chatbots-profile-pictures/bbbf6618-8c2c-41e3-a82f-70ce2bc03a8d/pbJ_qZvKAOryGVvLunxXZ.jpeg?width=48&quality=50"
        },
        "tab": {
            "heightValueMeta": 45, "widthValueMeta": 45, "topBorderRadiusMeta": 50, "rightBorderRadiusMeta": 50, "bottomBorderRadiusMeta": 50, "leftBorderRadiusMeta": 50, "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "logoImage": "https://backend.chatbase.co/storage/v1/object/public/chatbots-profile-pictures/bbbf6618-8c2c-41e3-a82f-70ce2bc03a8d/pbJ_qZvKAOryGVvLunxXZ.jpeg?width=48&quality=50"
        },
        "mobile": {
            "heightValueMeta": 45, "widthValueMeta": 45, "topBorderRadiusMeta": 50, "rightBorderRadiusMeta": 50, "bottomBorderRadiusMeta": 50, "leftBorderRadiusMeta": 50, "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "logoImage": "https://backend.chatbase.co/storage/v1/object/public/chatbots-profile-pictures/bbbf6618-8c2c-41e3-a82f-70ce2bc03a8d/pbJ_qZvKAOryGVvLunxXZ.jpeg?width=48&quality=50"
        }
    },
    "Messenger_prompt": {
        "desktop": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 16, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#ffffff"
        },
        "tab": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 16, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#ffffff"
        },
        "mobile": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 16, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#ffffff"
        }
    },
    "msg": {
        "desktop": {
            "topPaddingMeta": 10, "rightPaddingMeta": 15, "bottomPaddingMeta": 25, "leftPaddingMeta": 15, "topMarginMeta": 15, "bottomMarginMeta": 0, "leftMarginMeta": 0, "bgColorChangeMeta": "#dee2e6", "topBorderRadiusMeta": 10, "rightBorderRadiusMeta": 10, "bottomBorderRadiusMeta": 10, "leftBorderRadiusMeta": 0
        },
        "tab": {
            "topPaddingMeta": 10, "rightPaddingMeta": 15, "bottomPaddingMeta": 25, "leftPaddingMeta": 15, "topMarginMeta": 15, "bottomMarginMeta": 0, "leftMarginMeta": 0, "bgColorChangeMeta": "#dee2e6", "topBorderRadiusMeta": 10, "rightBorderRadiusMeta": 10, "bottomBorderRadiusMeta": 10, "leftBorderRadiusMeta": 0
        },
        "mobile": {
            "topPaddingMeta": 10, "rightPaddingMeta": 15, "bottomPaddingMeta": 25, "leftPaddingMeta": 15, "topMarginMeta": 15, "bottomMarginMeta": 0, "leftMarginMeta": 0, "bgColorChangeMeta": "#dee2e6", "topBorderRadiusMeta": 10, "rightBorderRadiusMeta": 10, "bottomBorderRadiusMeta": 10, "leftBorderRadiusMeta": 0
        }
    },
    "msg-user": {
        "desktop": {
            "topPaddingMeta": 10, "rightPaddingMeta": 15, "bottomPaddingMeta": 25, "leftPaddingMeta": 15, "topMarginMeta": 15, "rightMarginMeta": 0, "bottomMarginMeta": 0, "bgColorChangeMeta": "#004cf8", "topBorderRadiusMeta": 10, "rightBorderRadiusMeta": 0, "bottomBorderRadiusMeta": 10, "leftBorderRadiusMeta": 10
        },
        "tab": {
            "topPaddingMeta": 10, "rightPaddingMeta": 15, "bottomPaddingMeta": 25, "leftPaddingMeta": 15, "topMarginMeta": 15, "rightMarginMeta": 0, "bottomMarginMeta": 0, "bgColorChangeMeta": "#004cf8", "topBorderRadiusMeta": 10, "rightBorderRadiusMeta": 0, "bottomBorderRadiusMeta": 10, "leftBorderRadiusMeta": 10
        },
        "mobile": {
            "topPaddingMeta": 10, "rightPaddingMeta": 15, "bottomPaddingMeta": 25, "leftPaddingMeta": 15, "topMarginMeta": 15, "rightMarginMeta": 0, "bottomMarginMeta": 0, "bgColorChangeMeta": "#004cf8", "topBorderRadiusMeta": 10, "rightBorderRadiusMeta": 0, "bottomBorderRadiusMeta": 10, "leftBorderRadiusMeta": 10
        }
    },
    "responsText": {
        "desktop": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#000000"
        },
        "tab": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#000000"
        },
        "mobile": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#000000"
        }
    },
    "responsText-user": {
        "desktop": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#ffffff"
        },
        "tab": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#ffffff"
        },
        "mobile": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#ffffff"
        }
    },
    "Messenger_content": {
        "desktop": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "mainImage": "", "bgColorChangeMeta": "#000000", "mainVideo": "", "mainAudio": ""
        },
        "tab": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "mainImage": "", "bgColorChangeMeta": "#000000", "mainVideo": "", "mainAudio": ""
        },
        "mobile": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "mainImage": "", "bgColorChangeMeta": "#000000", "mainVideo": "", "mainAudio": ""
        }
    },
    "mytext": {
        "desktop": {
            "topPaddingMeta": 0, "rightPaddingMeta": 40, "bottomPaddingMeta": 0, "leftPaddingMeta": 20, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#ffffff"
        },
        "tab": {
            "topPaddingMeta": 0, "rightPaddingMeta": 40, "bottomPaddingMeta": 0, "leftPaddingMeta": 20, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#ffffff"
        },
        "mobile": {
            "topPaddingMeta": 0, "rightPaddingMeta": 40, "bottomPaddingMeta": 0, "leftPaddingMeta": 20, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#ffffff"
        }
    },
    "mytext-bg": {
        "desktop": {
            "topPaddingMeta": 17, "rightPaddingMeta": 0, "bottomPaddingMeta": 15, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "bgColorChangeMeta": "#1d2731"
        },
        "tab": {
            "topPaddingMeta": 17, "rightPaddingMeta": 0, "bottomPaddingMeta": 15, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "bgColorChangeMeta": "#1d2731"
        },
        "mobile": {
            "topPaddingMeta": 17, "rightPaddingMeta": 0, "bottomPaddingMeta": 15, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "bgColorChangeMeta": "#1d2731"
        }
    },
    "Messenger_header": {
        "desktop": {
            "bgColorChangeMeta": "#1d2731"
        },
        "tab": {
            "bgColorChangeMeta": "#1d2731"
        },
        "mobile": {
            "bgColorChangeMeta": "#1d2731"
        }
    },
    "time": {
        "desktop": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#000000"
        },
        "tab": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#000000"
        },
        "mobile": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#000000"
        }
    },
    "time-user": {
        "desktop": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#ffffff"
        },
        "tab": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#ffffff"
        },
        "mobile": {
            "topPaddingMeta": 0, "rightPaddingMeta": 0, "bottomPaddingMeta": 0, "leftPaddingMeta": 0, "topMarginMeta": 0, "rightMarginMeta": 0, "bottomMarginMeta": 0, "leftMarginMeta": 0, "fontSizeMeta": 13, "fontWeightMeta": 400, "fontFamilyMeta": "'Poppins', sans-serif", "colorChangeMeta": "#ffffff"
        }
    },
}


function borderRadiusChecked(top, right, bottom, left) {
    // $(".circleStyleTypeMeta").attr("checked",false);
    // $(".squareStyleTypeMeta").attr("checked",false);
    // $(".rectangleStyleTypeMeta").attr("checked",false);

    if (top == 50 && right == 50 && bottom == 50 && left == 50) {
        $(".circleStyleTypeMeta").prop("checked", true);
    } else if (top == 0 && right == 0 && bottom == 0 && left == 0) {
        $(".squareStyleTypeMeta").prop("checked", true);
    } else if (top == 10 && right == 10 && bottom == 10 && left == 10) {
        $(".rectangleStyleTypeMeta").prop("checked", true);
    } else {
        $(".circleStyleTypeMeta").prop("checked", false);
        $(".squareStyleTypeMeta").prop("checked", false);
        $(".rectangleStyleTypeMeta").prop("checked", false);
    }
    // $(".rectangleStyleTypeMeta").attr("checked",true);
}
function updateBorderRadius(themeObje, k, v) {
    let activeScreenObj = "";
    let activeScreen = $(".screenType.active").attr("data-type");
    themeObje[k][activeScreen]["topBorderRadiusMeta"] = v;
    themeObje[k][activeScreen]["rightBorderRadiusMeta"] = v;
    themeObje[k][activeScreen]["bottomBorderRadiusMeta"] = v;
    themeObje[k][activeScreen]["leftBorderRadiusMeta"] = v;
    activeScreenObj = themeObje[k][activeScreen];
    $(".topBorderRadiusMeta input[type='number']").val(activeScreenObj["topBorderRadiusMeta"]);
    $(".rightBorderRadiusMeta input[type='number']").val(activeScreenObj["rightBorderRadiusMeta"]);
    $(".bottomBorderRadiusMeta input[type='number']").val(activeScreenObj["bottomBorderRadiusMeta"]);
    $(".leftBorderRadiusMeta input[type='number']").val(activeScreenObj["leftBorderRadiusMeta"]);
}

$(".squareStyleTypeMeta").on("click", function () {
    // $(this).attr("checked",)
    let k = "";
    if ($(".activeItemBot").hasClass("avtr")) {
        k = "avtr";
    }
    if ($(".msg").hasClass("activeItemBot")) {
        k = "msg";
        if ($(".activeItemBot").hasClass("user")) {
            k = "msg-user";
        }
    }
    updateBorderRadius(themeObje, k, 0);
    designUpdate();
})

$(".circleStyleTypeMeta").on("click", function () {
    let k = "";
    if ($(".activeItemBot").hasClass("avtr")) {
        k = "avtr";
    }
    if ($(".msg").hasClass("activeItemBot")) {
        k = "msg";
        if ($(".activeItemBot").hasClass("user")) {
            k = "msg-user";
        }
    }
    updateBorderRadius(themeObje, k, 50);
    designUpdate();

})

$(".rectangleStyleTypeMeta").on("click", function () {
    let k = "";
    if ($(".activeItemBot").hasClass("avtr")) {
        k = "avtr";
    }
    if ($(".msg").hasClass("activeItemBot")) {
        k = "msg";
        if ($(".activeItemBot").hasClass("user")) {
            k = "msg-user";
        }
    }
    updateBorderRadius(themeObje, k, 10);
    designUpdate();

    designUpdate();
})



var mainImageUpload = false;

$(".editItemMeta").hide();
$(".screenType").on("click", function () {
    mainImageUpload = false;
    $(".activeItemBot").trigger("click");
    // uploadVideo();
    designUpdate();
    $('#imageFileUpload').val('');
    $('#videoFileUpload').val('');
    $('#audioFileUpload').val('');
})
$(".avtr").on("click", function () {

    console.log("themeObje", themeObje);

    let activeScreen = $(".screenType.active").attr("data-type");
    $(".chatbot-wrapper").find(".activeItemBot").removeClass("activeItemBot");
    $(this).addClass("activeItemBot");
    $(".editItemMeta").hide();
    $(".editItemMeta").removeClass("active");

    $(".paddingMeta").show();
    $(".paddingMeta").addClass("active");
    $(".marginMeta").show();
    $(".marginMeta").addClass("active");
    $(".leftMarginMeta").show();
    $(".rightMarginMeta").show();
    $(".topMarginMeta").show();
    $(".heightMeta").show();
    $(".heightMeta").addClass("active");
    $(".widthMeta").show();
    $(".widthMeta").addClass("active");
    $(".borderRadiusMeta").show();
    $(".borderRadiusMeta").addClass("active");
    $(".imageFileMeta").show();
    $(".imageFileMeta").addClass("active");

    let activeScreenObj = themeObje["avtr"][activeScreen];

    $(".heightValueMeta input[type='number']").val(activeScreenObj["heightValueMeta"]);
    $(".widthValueMeta input[type='number']").val(activeScreenObj["widthValueMeta"]);

    borderRadiusChecked(activeScreenObj["topBorderRadiusMeta"], activeScreenObj["rightBorderRadiusMeta"], activeScreenObj["bottomBorderRadiusMeta"], activeScreenObj["leftBorderRadiusMeta"]);

    $(".topBorderRadiusMeta input[type='number']").val(activeScreenObj["topBorderRadiusMeta"]);
    $(".rightBorderRadiusMeta input[type='number']").val(activeScreenObj["rightBorderRadiusMeta"]);
    $(".bottomBorderRadiusMeta input[type='number']").val(activeScreenObj["bottomBorderRadiusMeta"]);
    $(".leftBorderRadiusMeta input[type='number']").val(activeScreenObj["leftBorderRadiusMeta"]);

    $(".topPaddingMeta input[type='number']").val(activeScreenObj["topPaddingMeta"]);
    $(".rightPaddingMeta input[type='number']").val(activeScreenObj["rightPaddingMeta"]);
    $(".bottomPaddingMeta input[type='number']").val(activeScreenObj["bottomPaddingMeta"]);
    $(".leftPaddingMeta input[type='number']").val(activeScreenObj["leftPaddingMeta"]);

    $(".topMarginMeta input[type='number']").val(activeScreenObj["topMarginMeta"]);
    $(".rightMarginMeta input[type='number']").val(activeScreenObj["rightMarginMeta"]);
    $(".bottomMarginMeta input[type='number']").val(activeScreenObj["bottomMarginMeta"]);
    $(".leftMarginMeta input[type='number']").val(activeScreenObj["leftMarginMeta"]);

    // $('.avtr figure').css("background-image", "url(" + themeObje["avtr"][activeScreen]["logoImage"] + ")");
})
$(".Messenger_prompt").on("click", function () {
    console.log("themeObje", themeObje);
    let activeScreen = $(".screenType.active").attr("data-type");
    $(".chatbot-wrapper").find(".activeItemBot").removeClass("activeItemBot");
    $(this).addClass("activeItemBot");
    $(".editItemMeta").hide();
    $(".editItemMeta").removeClass("active");

    $(".paddingMeta").show();
    $(".paddingMeta").addClass("active");
    $(".marginMeta").show();
    $(".marginMeta").addClass("active");
    $(".leftMarginMeta").show();
    $(".rightMarginMeta").show();
    $(".topMarginMeta").show();
    $(".fontMeta").show();
    $(".fontMeta").addClass("active");
    $(".fontWeightMeta").show();
    $(".fontWeightMeta").addClass("active");
    // $(".fontStyleMeta").show();
    // $(".fontStyleMeta").addClass("active");
    $(".fontFamilyMeta").show();
    $(".fontFamilyMeta").addClass("active");
    $(".colorChangeMeta").show();
    $(".colorChangeMeta").addClass("active");
    // $(".contentPositionMeta").show();
    // $(".contentPositionMeta").addClass("active");

    $(".topPaddingMeta input[type='number']").val(themeObje["Messenger_prompt"][activeScreen]["topPaddingMeta"]);
    $(".rightPaddingMeta input[type='number']").val(themeObje["Messenger_prompt"][activeScreen]["rightPaddingMeta"]);
    $(".bottomPaddingMeta input[type='number']").val(themeObje["Messenger_prompt"][activeScreen]["bottomPaddingMeta"]);
    $(".leftPaddingMeta input[type='number']").val(themeObje["Messenger_prompt"][activeScreen]["leftPaddingMeta"]);

    $(".topMarginMeta input[type='number']").val(themeObje["Messenger_prompt"][activeScreen]["topMarginMeta"]);
    $(".rightMarginMeta input[type='number']").val(themeObje["Messenger_prompt"][activeScreen]["rightMarginMeta"]);
    $(".bottomMarginMeta input[type='number']").val(themeObje["Messenger_prompt"][activeScreen]["bottomMarginMeta"]);
    $(".leftMarginMeta input[type='number']").val(themeObje["Messenger_prompt"][activeScreen]["leftMarginMeta"]);

    $(".fontSizeMeta input[type='number']").val(themeObje["Messenger_prompt"][activeScreen]["fontSizeMeta"]);

    $(".textColorChangeMeta").val(themeObje["Messenger_prompt"][activeScreen]["colorChangeMeta"]);

    $(".selectFontFamilyMeta").val(themeObje["Messenger_prompt"][activeScreen]["fontFamilyMeta"]);

    $(".fontWeightValueMeta").val(themeObje["Messenger_prompt"][activeScreen]["fontWeightMeta"]);



})

$(".msg").on("click", function (e) {
    console.log("themeObje", themeObje);
    let activeScreen = $(".screenType.active").attr("data-type");

    let container = $(".responsText");
    let container2 = $(".time");
    if (!container2.is(e.target) && container2.has(e.target).length === 0) {
        if (!container.is(e.target) && container.has(e.target).length === 0) {
            //outer layer
            console.log("Outer Layer");
            $(".chatbot-wrapper").find(".activeItemBot").removeClass("activeItemBot");
            $(this).addClass("activeItemBot");
            $(".editItemMeta").hide();
            $(".editItemMeta").removeClass("active");

            $(".paddingMeta").show();
            $(".paddingMeta").addClass("active");
            $(".paddingMeta").addClass("active");
            $(".marginMeta").show();
            $(".marginMeta").addClass("active");
            $(".leftMarginMeta").show()
            $(".bgColorChangeMeta").show();
            $(".bgColorChangeMeta").addClass("active");
            $(".borderRadiusMeta").show();
            $(".borderRadiusMeta").addClass("active");



            if ($(".msg").hasClass("activeItemBot")) {
                if ($(".activeItemBot").hasClass("user")) {
                    $(".leftMarginMeta").hide();
                    $(".rightMarginMeta").show();
                    $(".topMarginMeta").show();
                    $(".topPaddingMeta input[type='number']").val(themeObje["msg-user"][activeScreen]["topPaddingMeta"]);
                    $(".rightPaddingMeta input[type='number']").val(themeObje["msg-user"][activeScreen]["rightPaddingMeta"]);
                    $(".bottomPaddingMeta input[type='number']").val(themeObje["msg-user"][activeScreen]["bottomPaddingMeta"]);
                    $(".leftPaddingMeta input[type='number']").val(themeObje["msg-user"][activeScreen]["leftPaddingMeta"]);

                    $(".topMarginMeta input[type='number']").val(themeObje["msg-user"][activeScreen]["topMarginMeta"]);
                    $(".rightMarginMeta input[type='number']").val(themeObje["msg-user"][activeScreen]["rightMarginMeta"]);
                    $(".bottomMarginMeta input[type='number']").val(themeObje["msg-user"][activeScreen]["bottomMarginMeta"]);

                    borderRadiusChecked(themeObje["msg-user"][activeScreen]["topBorderRadiusMeta"], themeObje["msg-user"][activeScreen]["rightBorderRadiusMeta"], themeObje["msg-user"][activeScreen]["bottomBorderRadiusMeta"], themeObje["msg-user"][activeScreen]["leftBorderRadiusMeta"]);

                    $(".topBorderRadiusMeta input[type='number']").val(themeObje["msg-user"][activeScreen]["topBorderRadiusMeta"]);
                    $(".rightBorderRadiusMeta input[type='number']").val(themeObje["msg-user"][activeScreen]["rightBorderRadiusMeta"]);
                    $(".bottomBorderRadiusMeta input[type='number']").val(themeObje["msg-user"][activeScreen]["bottomBorderRadiusMeta"]);
                    $(".leftBorderRadiusMeta input[type='number']").val(themeObje["msg-user"][activeScreen]["leftBorderRadiusMeta"]);


                    $(".backgroundColorChangeMeta").val(themeObje["msg-user"][activeScreen]["bgColorChangeMeta"]);
                } else {
                    $(".rightMarginMeta").hide();
                    $(".leftMarginMeta").show();
                    $(".topMarginMeta").show();
                    $(".topPaddingMeta input[type='number']").val(themeObje["msg"][activeScreen]["topPaddingMeta"]);
                    $(".rightPaddingMeta input[type='number']").val(themeObje["msg"][activeScreen]["rightPaddingMeta"]);
                    $(".bottomPaddingMeta input[type='number']").val(themeObje["msg"][activeScreen]["bottomPaddingMeta"]);
                    $(".leftPaddingMeta input[type='number']").val(themeObje["msg"][activeScreen]["leftPaddingMeta"]);

                    $(".topMarginMeta input[type='number']").val(themeObje["msg"][activeScreen]["topMarginMeta"]);
                    $(".rightMarginMeta input[type='number']").val(themeObje["msg"][activeScreen]["rightMarginMeta"]);
                    $(".bottomMarginMeta input[type='number']").val(themeObje["msg"][activeScreen]["bottomMarginMeta"]);
                    $(".leftMarginMeta input[type='number']").val(themeObje["msg"][activeScreen]["leftMarginMeta"]);

                    borderRadiusChecked(themeObje["msg"][activeScreen]["topBorderRadiusMeta"], themeObje["msg"][activeScreen]["rightBorderRadiusMeta"], themeObje["msg"][activeScreen]["bottomBorderRadiusMeta"], themeObje["msg"][activeScreen]["leftBorderRadiusMeta"]);

                    $(".topBorderRadiusMeta input[type='number']").val(themeObje["msg"][activeScreen]["topBorderRadiusMeta"]);
                    $(".rightBorderRadiusMeta input[type='number']").val(themeObje["msg"][activeScreen]["rightBorderRadiusMeta"]);
                    $(".bottomBorderRadiusMeta input[type='number']").val(themeObje["msg"][activeScreen]["bottomBorderRadiusMeta"]);
                    $(".leftBorderRadiusMeta input[type='number']").val(themeObje["msg"][activeScreen]["leftBorderRadiusMeta"]);

                    $(".backgroundColorChangeMeta").val(themeObje["msg"][activeScreen]["bgColorChangeMeta"]);
                }
            }


        } else {
            console.log("text");
            //responsetext
            $(".chatbot-wrapper").find(".activeItemBot").removeClass("activeItemBot");
            $(this).find(".responsText").addClass("activeItemBot");
            $(".editItemMeta").hide();
            $(".editItemMeta").removeClass("active");

            $(".paddingMeta").show();
            $(".paddingMeta").addClass("active");
            $(".marginMeta").show();
            $(".marginMeta").addClass("active");
            $(".leftMarginMeta").show()
            $(".topMarginMeta").show();

            $(".fontMeta").show();
            $(".fontMeta").addClass("active");
            $(".fontWeightMeta").show();
            $(".fontWeightMeta").addClass("active");
            $(".fontFamilyMeta").show();
            $(".fontFamilyMeta").addClass("active");
            $(".colorChangeMeta").show();
            $(".colorChangeMeta").addClass("active");

            $(".bgColorChangeMeta").removeClass("active");

            if ($(".responsText").hasClass("activeItemBot")) {
                if ($(".activeItemBot").parent().hasClass("user")) {
                    $(".leftMarginMeta").hide();
                    $(".rightMarginMeta").show();
                    $(".topPaddingMeta input[type='number']").val(themeObje["responsText-user"][activeScreen]["topPaddingMeta"]);
                    $(".rightPaddingMeta input[type='number']").val(themeObje["responsText-user"][activeScreen]["rightPaddingMeta"]);
                    $(".bottomPaddingMeta input[type='number']").val(themeObje["responsText-user"][activeScreen]["bottomPaddingMeta"]);
                    $(".leftPaddingMeta input[type='number']").val(themeObje["responsText-user"][activeScreen]["leftPaddingMeta"]);

                    $(".topMarginMeta input[type='number']").val(themeObje["responsText-user"][activeScreen]["topMarginMeta"]);
                    $(".rightMarginMeta input[type='number']").val(themeObje["responsText-user"][activeScreen]["rightMarginMeta"]);
                    $(".bottomMarginMeta input[type='number']").val(themeObje["responsText-user"][activeScreen]["bottomMarginMeta"]);


                    $(".fontSizeMeta input[type='number']").val(themeObje["responsText-user"][activeScreen]["fontSizeMeta"]);

                    $(".textColorChangeMeta").val(themeObje["responsText-user"][activeScreen]["colorChangeMeta"]);

                    $(".selectFontFamilyMeta").val(themeObje["responsText-user"][activeScreen]["fontFamilyMeta"]);

                    $(".fontWeightValueMeta").val(themeObje["responsText-user"][activeScreen]["fontWeightMeta"]);

                } else {
                    $(".leftMarginMeta").show();
                    $(".rightMarginMeta").show();
                    $(".topPaddingMeta input[type='number']").val(themeObje["responsText"][activeScreen]["topPaddingMeta"]);
                    $(".rightPaddingMeta input[type='number']").val(themeObje["responsText"][activeScreen]["rightPaddingMeta"]);
                    $(".bottomPaddingMeta input[type='number']").val(themeObje["responsText"][activeScreen]["bottomPaddingMeta"]);
                    $(".leftPaddingMeta input[type='number']").val(themeObje["responsText"][activeScreen]["leftPaddingMeta"]);

                    $(".topMarginMeta input[type='number']").val(themeObje["responsText"][activeScreen]["topMarginMeta"]);
                    $(".rightMarginMeta input[type='number']").val(themeObje["responsText"][activeScreen]["rightMarginMeta"]);
                    $(".bottomMarginMeta input[type='number']").val(themeObje["responsText"][activeScreen]["bottomMarginMeta"]);
                    $(".leftMarginMeta input[type='number']").val(themeObje["responsText"][activeScreen]["leftMarginMeta"]);


                    $(".fontSizeMeta input[type='number']").val(themeObje["responsText"][activeScreen]["fontSizeMeta"]);

                    $(".textColorChangeMeta").val(themeObje["responsText"][activeScreen]["colorChangeMeta"]);

                    $(".selectFontFamilyMeta").val(themeObje["responsText"][activeScreen]["fontFamilyMeta"]);

                    $(".fontWeightValueMeta").val(themeObje["responsText"][activeScreen]["fontWeightMeta"]);

                }
            }


        }
    } else {
        console.log("time");
        console.log("text");
        //responsetext
        $(".chatbot-wrapper").find(".activeItemBot").removeClass("activeItemBot");
        $(this).find(".time").addClass("activeItemBot");
        $(".editItemMeta").hide();
        $(".editItemMeta").removeClass("active");

        $(".paddingMeta").show();
        $(".paddingMeta").addClass("active");
        $(".marginMeta").show();
        $(".marginMeta").addClass("active");
        $(".leftMarginMeta").show();
        $(".topMarginMeta").hide();
        $(".rightMarginMeta").hide();

        $(".fontMeta").show();
        $(".fontMeta").addClass("active");
        $(".fontWeightMeta").show();
        $(".fontWeightMeta").addClass("active");
        $(".fontFamilyMeta").show();
        $(".fontFamilyMeta").addClass("active");
        $(".colorChangeMeta").show();
        $(".colorChangeMeta").addClass("active");

        $(".bgColorChangeMeta").removeClass("active");

        if ($(".time").hasClass("activeItemBot")) {
            if ($(".activeItemBot").parent().hasClass("user")) {
                $(".leftMarginMeta").hide();
                $(".rightMarginMeta").show();
                $(".topPaddingMeta input[type='number']").val(themeObje["time-user"][activeScreen]["topPaddingMeta"]);
                $(".rightPaddingMeta input[type='number']").val(themeObje["time-user"][activeScreen]["rightPaddingMeta"]);
                $(".bottomPaddingMeta input[type='number']").val(themeObje["time-user"][activeScreen]["bottomPaddingMeta"]);
                $(".leftPaddingMeta input[type='number']").val(themeObje["time-user"][activeScreen]["leftPaddingMeta"]);

                $(".topMarginMeta input[type='number']").val(themeObje["time-user"][activeScreen]["topMarginMeta"]);
                $(".rightMarginMeta input[type='number']").val(themeObje["time-user"][activeScreen]["rightMarginMeta"]);
                $(".bottomMarginMeta input[type='number']").val(themeObje["time-user"][activeScreen]["bottomMarginMeta"]);


                $(".fontSizeMeta input[type='number']").val(themeObje["time-user"][activeScreen]["fontSizeMeta"]);

                $(".textColorChangeMeta").val(themeObje["time-user"][activeScreen]["colorChangeMeta"]);

                $(".selectFontFamilyMeta").val(themeObje["time-user"][activeScreen]["fontFamilyMeta"]);

                $(".fontWeightValueMeta").val(themeObje["time-user"][activeScreen]["fontWeightMeta"]);

            } else {
                $(".leftMarginMeta").show();
                $(".topPaddingMeta input[type='number']").val(themeObje["time"][activeScreen]["topPaddingMeta"]);
                $(".rightPaddingMeta input[type='number']").val(themeObje["time"][activeScreen]["rightPaddingMeta"]);
                $(".bottomPaddingMeta input[type='number']").val(themeObje["time"][activeScreen]["bottomPaddingMeta"]);
                $(".leftPaddingMeta input[type='number']").val(themeObje["time"][activeScreen]["leftPaddingMeta"]);

                $(".topMarginMeta input[type='number']").val(themeObje["time"][activeScreen]["topMarginMeta"]);
                $(".rightMarginMeta input[type='number']").val(themeObje["time"][activeScreen]["rightMarginMeta"]);
                $(".bottomMarginMeta input[type='number']").val(themeObje["time"][activeScreen]["bottomMarginMeta"]);
                $(".leftMarginMeta input[type='number']").val(themeObje["time"][activeScreen]["leftMarginMeta"]);


                $(".fontSizeMeta input[type='number']").val(themeObje["time"][activeScreen]["fontSizeMeta"]);

                $(".textColorChangeMeta").val(themeObje["time"][activeScreen]["colorChangeMeta"]);

                $(".selectFontFamilyMeta").val(themeObje["time"][activeScreen]["fontFamilyMeta"]);

                $(".fontWeightValueMeta").val(themeObje["time"][activeScreen]["fontWeightMeta"]);

            }
        }
    }
})



$(".Messenger_content").on("click", function (e) {
    let container = $(".msg");
    let activeScreen = $(".screenType.active").attr("data-type");
    if (!container.is(e.target) && container.has(e.target).length === 0) {
        console.log("main background");
        $(".chatbot-wrapper").find(".activeItemBot").removeClass("activeItemBot");
        $(this).addClass("activeItemBot");
        $(".editItemMeta").hide();
        $(".editItemMeta").removeClass("active");

        $(".paddingMeta").show();
        $(".paddingMeta").addClass("active");
        $(".marginMeta").show();
        $(".marginMeta").addClass("active");
        $(".leftMarginMeta").show()
        $(".rightMarginMeta").show();
        $(".topMarginMeta").show();
        $(".bgColorChangeMeta").show();
        $(".bgColorChangeMeta").addClass("active");
        $(".imageFileMeta").show();
        $(".imageFileMeta").addClass("active");
        $(".videoFileMeta").show();
        $(".videoFileMeta").addClass("active");
        $(".audioFileMeta").show();
        $(".audioFileMeta").addClass("active");

        $(".topPaddingMeta input[type='number']").val(themeObje["Messenger_content"][activeScreen]["topPaddingMeta"]);
        $(".rightPaddingMeta input[type='number']").val(themeObje["Messenger_content"][activeScreen]["rightPaddingMeta"]);
        $(".bottomPaddingMeta input[type='number']").val(themeObje["Messenger_content"][activeScreen]["bottomPaddingMeta"]);
        $(".leftPaddingMeta input[type='number']").val(themeObje["Messenger_content"][activeScreen]["leftPaddingMeta"]);

        $(".topMarginMeta input[type='number']").val(themeObje["Messenger_content"][activeScreen]["topMarginMeta"]);
        $(".rightMarginMeta input[type='number']").val(themeObje["Messenger_content"][activeScreen]["rightMarginMeta"]);
        $(".bottomMarginMeta input[type='number']").val(themeObje["Messenger_content"][activeScreen]["bottomMarginMeta"]);
        $(".leftMarginMeta input[type='number']").val(themeObje["Messenger_content"][activeScreen]["leftMarginMeta"]);

        $(".backgroundColorChangeMeta").val(themeObje["Messenger_content"][activeScreen]["bgColorChangeMeta"]);

    } else {
    }

})


$(".Input-blank").on("click", function (e) {
    console.log("themeObje", themeObje);
    let activeScreen = $(".screenType.active").attr("data-type");

    let container = $(".Input_field");
    if (!container.is(e.target) && container.has(e.target).length === 0) {
        console.log("In");
        $(".chatbot-wrapper").find(".activeItemBot").removeClass("activeItemBot");
        $(this).addClass("activeItemBot");
        $(".editItemMeta").hide();
        $(".editItemMeta").removeClass("active");

        $(".paddingMeta").show();
        $(".paddingMeta").addClass("active");
        $(".marginMeta").show();
        $(".marginMeta").addClass("active");
        $(".leftMarginMeta").show()
        $(".rightMarginMeta").show();
        $(".topMarginMeta").show();
        $(".bgColorChangeMeta").show();
        $(".bgColorChangeMeta").addClass("active");

        $(".topPaddingMeta input[type='number']").val(themeObje["mytext-bg"][activeScreen]["topPaddingMeta"]);
        $(".rightPaddingMeta input[type='number']").val(themeObje["mytext-bg"][activeScreen]["rightPaddingMeta"]);
        $(".bottomPaddingMeta input[type='number']").val(themeObje["mytext-bg"][activeScreen]["bottomPaddingMeta"]);
        $(".leftPaddingMeta input[type='number']").val(themeObje["mytext-bg"][activeScreen]["leftPaddingMeta"]);

        $(".topMarginMeta input[type='number']").val(themeObje["mytext-bg"][activeScreen]["topMarginMeta"]);
        $(".rightMarginMeta input[type='number']").val(themeObje["mytext-bg"][activeScreen]["rightMarginMeta"]);
        $(".bottomMarginMeta input[type='number']").val(themeObje["mytext-bg"][activeScreen]["bottomMarginMeta"]);
        $(".leftMarginMeta input[type='number']").val(themeObje["mytext-bg"][activeScreen]["leftMarginMeta"]);

        $(".backgroundColorChangeMeta").val(themeObje["mytext-bg"][activeScreen]["bgColorChangeMeta"]);

    } else {
        $(".chatbot-wrapper").find(".activeItemBot").removeClass("activeItemBot");
        $(this).find(".Input_field").addClass("activeItemBot");
        $(".editItemMeta").hide();
        $(".editItemMeta").removeClass("active");

        $(".paddingMeta").show();
        $(".paddingMeta").addClass("active");
        $(".marginMeta").show();
        $(".marginMeta").addClass("active");
        $(".leftMarginMeta").show()
        $(".rightMarginMeta").show();
        $(".fontMeta").show();
        $(".fontMeta").addClass("active");
        $(".fontWeightMeta").show();
        $(".fontWeightMeta").addClass("active");
        $(".fontFamilyMeta").show();
        $(".fontFamilyMeta").addClass("active");
        $(".colorChangeMeta").show();
        $(".colorChangeMeta").addClass("active");

        $(".bgColorChangeMeta").removeClass("active");

        $(".leftMarginMeta").show();
        $(".rightMarginMeta").show();
        $(".topPaddingMeta input[type='number']").val(themeObje["mytext"][activeScreen]["topPaddingMeta"]);
        $(".rightPaddingMeta input[type='number']").val(themeObje["mytext"][activeScreen]["rightPaddingMeta"]);
        $(".bottomPaddingMeta input[type='number']").val(themeObje["mytext"][activeScreen]["bottomPaddingMeta"]);
        $(".leftPaddingMeta input[type='number']").val(themeObje["mytext"][activeScreen]["leftPaddingMeta"]);

        $(".topMarginMeta input[type='number']").val(themeObje["mytext"][activeScreen]["topMarginMeta"]);
        $(".rightMarginMeta input[type='number']").val(themeObje["mytext"][activeScreen]["rightMarginMeta"]);
        $(".bottomMarginMeta input[type='number']").val(themeObje["mytext"][activeScreen]["bottomMarginMeta"]);
        $(".leftMarginMeta input[type='number']").val(themeObje["mytext"][activeScreen]["leftMarginMeta"]);


        $(".fontSizeMeta input[type='number']").val(themeObje["mytext"][activeScreen]["fontSizeMeta"]);

        $(".textColorChangeMeta").val(themeObje["mytext"][activeScreen]["colorChangeMeta"]);

        $(".selectFontFamilyMeta").val(themeObje["mytext"][activeScreen]["fontFamilyMeta"]);

        $(".fontWeightValueMeta").val(themeObje["mytext"][activeScreen]["fontWeightMeta"]);
    }

    designUpdate();
})


$(".edit-theme-box input").on("keyup", function () {
    designUpdate();
})

$(".edit-theme-box select").on("change", function () {
    designUpdate();
})

$(".form-control-color").on("change", function () {
    mainImageUpload = false;
    let activeScreen = $(".screenType.active").attr("data-type");
    if ($(".Messenger_content").hasClass("activeItemBot")) {
        themeObje["Messenger_content"][activeScreen]["mainImage"] = "";
        themeObje["Messenger_content"][activeScreen]["mainVideo"] = "";
        themeObje["Messenger_content"][activeScreen]["mainAudio"] = "";
        if ($(".background-img").hasClass("d-none")) {

        } else {
            $(".background-img").addClass("d-none");
        }
        if ($("#video").hasClass("d-none")) {
        } else {
            $("#video").addClass("d-none");
        }

        var videoElement = document.getElementById('video');
        videoElement.pause();
        videoElement.removeAttribute('src'); // empty source
        videoElement.load();

        audioPause();


        $('#imageFileUpload').val('');
        $('#videoFileUpload').val('');
        $('#audioFileUpload').val('');
    }
    designUpdate();
})

$(".videoFileUploadMeta").on("change", function () {
    // mainVideo
    mainImageUpload = false;
    $(".background-img").removeClass("d-none");
    $("#video").removeClass("d-none");
    let activeScreen = $(".screenType.active").attr("data-type");
    themeObje["Messenger_content"][activeScreen]["mainImage"] = "";
    themeObje["Messenger_content"][activeScreen]["bgColorChangeMeta"] = "";
    themeObje["Messenger_content"][activeScreen]["mainAudio"] = "";
    // uploadVideo();
})

$(".Messenger_header").on("click", function (e) {
    let container = $(".both-playe-wrapper,.avtr,.Messenger_prompt");
    if (!container.is(e.target) && container.has(e.target).length === 0) {

        let activeScreen = $(".screenType.active").attr("data-type");
        $(".chatbot-wrapper").find(".activeItemBot").removeClass("activeItemBot");
        $(this).addClass("activeItemBot");
        $(".editItemMeta").hide();
        $(".editItemMeta").removeClass("active");
        $(".bgColorChangeMeta").show();
        $(".bgColorChangeMeta").addClass("active");
        $(".backgroundColorChangeMeta").val(themeObje["Messenger_header"][activeScreen]["bgColorChangeMeta"]);

    }

})

function fileUpload(file, cb) {
    $('.page-loader').css("display", "block");
    const formData = new FormData();
    formData.append('file', file);
    fetch('/admin/theme/file-upload', {
        method: 'POST',
        body: formData
    }).then(response => {
        return response.json();
    }).then(data => {
        console.log('/theme/file-upload data', data);
        $('.page-loader').css("display", "none");
        $('#imageFileUpload').val('');
        $('#videoFileUpload').val('');
        $('#audioFileUpload').val('');
        cb(null, data);
    }).catch(error => {
        console.error(error);
        $('.page-loader').css("display", "none");
        cb('/theme/file-upload error', error);
    });
}

function uploadVideo() {
    const input = document.getElementById('videoFileUpload');
    const video = document.getElementById('video');
    input.addEventListener('change', function () {
        console.log("video upload change");
        const files = this.files || [];
        if (!files.length) return;
        fileUpload(files[0], (err, data) => {
            if (err) {
                console.log('uploadVideo error', err);
                return;
            }
            console.log('uploadVideo data', data);
            mainImageUpload = false;
            let activeScreen = $(".screenType.active").attr("data-type");
            themeObje["Messenger_content"][activeScreen]["mainImage"] = "";
            themeObje["Messenger_content"][activeScreen]["bgColorChangeMeta"] = "";
            /*  themeObje["Messenger_content"][activeScreen]["mainAudio"] = ""; */

            // console.log("e-target-result",e.target.result);
            themeObje["Messenger_content"][activeScreen]["mainVideo"] = data.path;
            video.setAttribute('src', data.path);
            video.load(); video.play();

            audioPause();
            designUpdate();
        });
    });
}

uploadVideo();

function uploadAudio() {
    const input = document.getElementById('audioFileUpload');
    const audio = document.getElementById('audio');
    input.addEventListener('change', function () {
        console.log("video upload change");
        const files = this.files || [];
        if (!files.length) return;
        fileUpload(files[0], (err, data) => {
            if (err) {
                console.log('uploadVideo error', err);
                return;
            }
            console.log('uploadVideo data', data);
            mainImageUpload = false;
            let activeScreen = $(".screenType.active").attr("data-type");
            /* themeObje["Messenger_content"][activeScreen]["mainImage"] = "";
            themeObje["Messenger_content"][activeScreen]["bgColorChangeMeta"] = "";
            themeObje["Messenger_content"][activeScreen]["mainVideo"] = ""; */
            // console.log("e-target-result",e.target.result);
            themeObje["Messenger_content"][activeScreen]["mainAudio"] = data.path;
            videoPause();
            audio.setAttribute('src', data.path);
            audio.load();
            audio.play();
            // designUpdate();
        });
    });
}
uploadAudio();

function audioPause() {
    var audioElement = document.getElementById('audio');
    if (audioElement && audioElement.hasAttribute('src')) {
        audioElement.pause();
        audioElement.removeAttribute('src'); // empty source
        audioElement.load();
    }

}

function videoPause() {
    var videoElement = document.getElementById('video');
    if (videoElement && videoElement.hasAttribute('src')) {
        videoElement.pause();
        videoElement.removeAttribute('src'); // empty source
        videoElement.load();
    }

}

$("#imageFileUpload").on("change", function () {
    // designUpdate();
    // console.log("imageFileUpload ===", $(".screenType.active").attr("data-type"));
    let activeScreen = $(".screenType.active").attr("data-type");
    if ($(".avtr").hasClass("activeItemBot")) {
        const file = this.files[0];
        if (file) {
            fileUpload(file, (err, data) => {
                if (err) {
                    console.log('uploadImage error', err);
                    return;
                }
                console.log('uploadImage data', data);
                if (themeObje["avtr"][activeScreen].hasOwnProperty('logoImage')) {
                    themeObje["avtr"][activeScreen]["logoImage"] = data.path;
                }
                designUpdate();
            });
        }
    }
    if ($(".Messenger_content").hasClass("activeItemBot")) {
        $(".background-img").removeClass("d-none");
        if ($("#video").hasClass("d-none")) {
        } else {
            $("#video").addClass("d-none");
        }

        const file = this.files[0];
        if (file) {
            fileUpload(file, (err, data) => {
                if (err) {
                    console.log('uploadImage error', err);
                    return;
                }
                console.log('uploadImage data', data);
                mainImageUpload = true;
                themeObje["Messenger_content"][activeScreen]["mainImage"] = data.path;
                themeObje["Messenger_content"][activeScreen]["bgColorChangeMeta"] = "#000";
                themeObje["Messenger_content"][activeScreen]["mainVideo"] = "";
                designUpdate();
            });
        }
    }


})

$(".video-pause").on("click", function (e) {
    e.preventDefault()
    // if($("#video").hasClass("d-none")){
    // }else{
    document.getElementById('video')?.pause();
    // }
    document.getElementById('audio')?.pause();

})

// $(document).on("change" , ".form-control-color" , function(){
//     alert($(this).val());
// });

function designUpdate() {
    let activeScreen = $(".screenType.active").attr("data-type");

    // "heightValueMeta":45,"widthValueMeta":45,"topBorderRadiusMeta":50,"rightBorderRadiusMeta":50,"bottomBorderRadiusMeta":50,"leftBorderRadiusMeta":50,"topPaddingMeta":0,"rightPaddingMeta":0,"bottomPaddingMeta":0,"leftPaddingMeta":0,"topMarginMeta":0,"rightMarginMeta":0,"bottomMarginMeta":0,"leftMarginMeta":0,"logoImage":"https://backend.chatbase.co/storage/v1/object/public/chatbots-profile-pictures/bbbf6618-8c2c-41e3-a82f-70ce2bc03a8d/pbJ_qZvKAOryGVvLunxXZ.jpeg?width=48&quality=50"




    // return false;
    let itemActive = "";
    let isAvtr = false;
    // let activeScreen = $(".screenType.active").attr("data-type");
    if ($(".avtr").hasClass("activeItemBot")) {
        itemActive = $(".avtr");
        itemKey = "avtr";
        isAvtr = true;
    }
    if ($(".Messenger_prompt").hasClass("activeItemBot")) {
        itemActive = $(".Messenger_prompt");
        itemKey = "Messenger_prompt";
    }
    if ($(".responsText").hasClass("activeItemBot")) {
        if ($(".activeItemBot").parent().hasClass("user")) {
            itemActive = $(".msg:nth-child(2) .responsText");
            itemKey = "responsText-user";
        } else {
            itemActive = $(".msg:first .responsText");
            itemKey = "responsText";
        }
    }
    if ($(".msg").hasClass("activeItemBot")) {
        if ($(".activeItemBot").hasClass("user")) {
            itemActive = $(".msg:nth-child(2)");
            itemKey = "msg-user";

        } else {
            itemActive = $(".msg:first");
            itemKey = "msg";
        }
    }
    if ($(".Messenger_content").hasClass("activeItemBot")) {
        itemKey = "Messenger_content";
        itemActive = $(".Messenger_content");
    }
    if ($(".Input-blank").hasClass("activeItemBot")) {
        itemKey = "mytext-bg";
        itemActive = $(".Input-blank");
    }
    if ($(".Input_field").hasClass("activeItemBot")) {
        itemKey = "mytext";
        itemActive = $(".Input_field");
    }
    if ($(".Messenger_header").hasClass("activeItemBot")) {
        itemKey = "Messenger_header";
        itemActive = $(".Messenger_header");
    }
    if ($(".time").hasClass("activeItemBot")) {
        if ($(".activeItemBot").parent().hasClass("user")) {
            itemActive = $(".msg:nth-child(2) .time");
            itemKey = "time-user";
        } else {
            itemActive = $(".msg:first .time");
            itemKey = "time";
        }
    }

    /**************************************************************************************/

    if ($(".paddingMeta").hasClass("active")) {
        let tPadding = $(".topPaddingMeta input").val();
        let rPadding = $(".rightPaddingMeta input").val();
        let bPadding = $(".bottomPaddingMeta input").val();
        let lPadding = $(".leftPaddingMeta input").val();
        console.log("padding", tPadding, rPadding, bPadding, lPadding);
        // itemActive.css({"padding-top":tPadding+"px", "padding-right":rPadding+"px", "padding-bottom":bPadding+"px", "padding-left":lPadding+"px"});
        if (themeObje[itemKey][activeScreen].hasOwnProperty('topPaddingMeta')) {
            themeObje[itemKey][activeScreen]["topPaddingMeta"] = parseInt(tPadding);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('rightPaddingMeta')) {
            themeObje[itemKey][activeScreen]["rightPaddingMeta"] = parseInt(rPadding);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('bottomPaddingMeta')) {
            themeObje[itemKey][activeScreen]["bottomPaddingMeta"] = parseInt(bPadding);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('leftPaddingMeta')) {
            themeObje[itemKey][activeScreen]["leftPaddingMeta"] = parseInt(lPadding);
        }

    }
    if ($(".marginMeta").hasClass("active")) {
        let tMargin = $(".topMarginMeta input").val();
        let rMargin = $(".rightMarginMeta input").val();
        let bMargin = $(".bottomMarginMeta input").val();
        let lMargin = $(".leftMarginMeta input").val();
        if (itemKey == "msg-user") {
            lMargin = "auto";
        }
        console.log("margin", tMargin, rMargin, bMargin, lMargin);
        // itemActive.css({"margin-top":tMargin+"px", "margin-right":rMargin+"px", "margin-bottom":bMargin+"px", "margin-left":lMargin+"px"});
        if (themeObje[itemKey][activeScreen].hasOwnProperty('topMarginMeta')) {
            themeObje[itemKey][activeScreen]["topMarginMeta"] = parseInt(tMargin);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('rightMarginMeta')) {
            themeObje[itemKey][activeScreen]["rightMarginMeta"] = parseInt(rMargin);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('bottomMarginMeta')) {
            themeObje[itemKey][activeScreen]["bottomMarginMeta"] = parseInt(bMargin);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('leftMarginMeta')) {
            themeObje[itemKey][activeScreen]["leftMarginMeta"] = parseInt(lMargin);
        }


    }
    if ($(".heightMeta").hasClass("active")) {
        let height = $(".heightValueMeta input").val();
        console.log("height", height);
        // itemActive.css({"height":height+"px"});
        if (themeObje[itemKey][activeScreen].hasOwnProperty('heightValueMeta')) {
            themeObje[itemKey][activeScreen]["heightValueMeta"] = parseInt(height);
        }

    }
    if ($(".widthMeta").hasClass("active")) {
        let width = $(".widthValueMeta input").val();
        console.log("width", width);
        // itemActive.css({"width":width+"px"});
        if (themeObje[itemKey][activeScreen].hasOwnProperty('widthValueMeta')) {
            themeObje[itemKey][activeScreen]["widthValueMeta"] = parseInt(width);
        }
    }
    if ($(".borderRadiusMeta").hasClass("active")) {
        let tBorderRadius = $(".topBorderRadiusMeta input").val();
        let rBorderRadius = $(".rightBorderRadiusMeta input").val();
        let bBorderRadius = $(".bottomBorderRadiusMeta input").val();
        let lBorderRadius = $(".leftBorderRadiusMeta input").val();
        console.log("BorderRadius", tBorderRadius, rBorderRadius, bBorderRadius, lBorderRadius);
        if (isAvtr) {
            // itemActive.find("figure").css({"border-radius":tBorderRadius+"px"+" "+rBorderRadius+"px"+" "+bBorderRadius+"px"+" "+lBorderRadius+"px"});
        } else {
            // itemActive.css({"border-radius":tBorderRadius+"px"+" "+rBorderRadius+"px"+" "+bBorderRadius+"px"+" "+lBorderRadius+"px"});
        }

        if (themeObje[itemKey][activeScreen].hasOwnProperty('topBorderRadiusMeta')) {
            themeObje[itemKey][activeScreen]["topBorderRadiusMeta"] = parseInt(tBorderRadius);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('rightBorderRadiusMeta')) {
            themeObje[itemKey][activeScreen]["rightBorderRadiusMeta"] = parseInt(rBorderRadius);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('bottomBorderRadiusMeta')) {
            themeObje[itemKey][activeScreen]["bottomBorderRadiusMeta"] = parseInt(bBorderRadius);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('leftBorderRadiusMeta')) {
            themeObje[itemKey][activeScreen]["leftBorderRadiusMeta"] = parseInt(lBorderRadius);
        }


    }
    if ($(".fontMeta").hasClass("active")) {
        let fontsize = $(".fontSizeMeta input").val();
        console.log("fontsize", fontsize);
        // itemActive.css({"font-size":fontsize+"px"});
        if (themeObje[itemKey][activeScreen].hasOwnProperty('fontSizeMeta')) {
            themeObje[itemKey][activeScreen]["fontSizeMeta"] = fontsize;
        }
    }
    if ($(".fontWeightMeta").hasClass("active")) {
        let fontweight = $(".fontWeightValueMeta").val();
        console.log("fontweight", fontweight);
        // itemActive.css({"font-weight":fontweight});
        if (themeObje[itemKey][activeScreen].hasOwnProperty('fontWeightMeta')) {
            themeObje[itemKey][activeScreen]["fontWeightMeta"] = fontweight;
        }
    }
    if ($(".fontFamilyMeta").hasClass("active")) {
        let fontFamily = $(".selectFontFamilyMeta").val();
        console.log("font family", fontFamily);
        // itemActive.css({"font-family":fontFamily});
        if (themeObje[itemKey][activeScreen].hasOwnProperty('fontFamilyMeta')) {
            themeObje[itemKey][activeScreen]["fontFamilyMeta"] = fontFamily;
        }
    }
    if ($(".colorChangeMeta").hasClass("active")) {
        let color = $(".textColorChangeMeta").val();
        console.log("Color", color);
        // itemActive.css({"color":color});
        if (themeObje[itemKey][activeScreen].hasOwnProperty('colorChangeMeta')) {
            themeObje[itemKey][activeScreen]["colorChangeMeta"] = color;
        }
    }
    if ($(".bgColorChangeMeta").hasClass("active")) {
        let bgColor = $(".backgroundColorChangeMeta").val();
        console.log("background", bgColor);
        // console.log("mainImageUpload",mainImageUpload);
        // itemActive.css({"background-color":bgColor});
        if (mainImageUpload == false) {
            if (themeObje[itemKey][activeScreen].hasOwnProperty('bgColorChangeMeta')) {
                themeObje[itemKey][activeScreen]["bgColorChangeMeta"] = bgColor;
            }
        }
    }

    // if($(".imageFileMeta").hasClass("active")){
    //     console.log("In");

    //     itemActive.find("figure").change(function(){

    //       });
    //     // itemActive.find("figure").onchange = evt => {
    //     // const [file] = itemActive.find("figure").files
    //     // if (file) {
    //     //   blah.src = URL.createObjectURL(file)
    //     // }
    // }

    let avtr = themeObje["avtr"][activeScreen];
    $(".avtr").css({ "padding-top": avtr["topPaddingMeta"] + "px", "padding-right": avtr["rightPaddingMeta"] + "px", "padding-bottom": avtr["bottomPaddingMeta"] + "px", "padding-left": avtr["leftPaddingMeta"] + "px" });
    $(".avtr").css({ "margin-top": avtr["topMarginMeta"] + "px", "margin-right": avtr["rightMarginMeta"] + "px", "margin-bottom": avtr["bottomMarginMeta"] + "px", "margin-left": avtr["leftMarginMeta"] + "px" });
    $(".avtr").css({ "height": avtr["heightValueMeta"] + "px" });
    $(".avtr").css({ "width": avtr["widthValueMeta"] + "px" });
    $(".avtr").find("figure").css({ "border-radius": avtr["topBorderRadiusMeta"] + "px" + " " + avtr["rightBorderRadiusMeta"] + "px" + " " + avtr["bottomBorderRadiusMeta"] + "px" + " " + avtr["leftBorderRadiusMeta"] + "px", "background-image": "url(" + avtr['logoImage'] + ")" });

    let messenger_prompt = themeObje["Messenger_prompt"][activeScreen];
    $(".Messenger_prompt").css({ "padding-top": messenger_prompt["topPaddingMeta"] + "px", "padding-right": messenger_prompt["rightPaddingMeta"] + "px", "padding-bottom": messenger_prompt["bottomPaddingMeta"] + "px", "padding-left": messenger_prompt["leftPaddingMeta"] + "px" });
    $(".Messenger_prompt").css({ "margin-top": messenger_prompt["topMarginMeta"] + "px", "margin-right": messenger_prompt["rightMarginMeta"] + "px", "margin-bottom": messenger_prompt["bottomMarginMeta"] + "px", "margin-left": messenger_prompt["leftMarginMeta"] + "px" });
    $(".Messenger_prompt").css({ "font-size": messenger_prompt["fontSizeMeta"] + "px", "font-family": messenger_prompt["fontFamilyMeta"], "color": messenger_prompt["colorChangeMeta"], "font-weight": messenger_prompt["fontWeightMeta"] });

    let resTxt = themeObje["responsText"][activeScreen];
    $(".msg:first .responsText").css({ "padding-top": resTxt["topPaddingMeta"] + "px", "padding-right": resTxt["rightPaddingMeta"] + "px", "padding-bottom": resTxt["bottomPaddingMeta"] + "px", "padding-left": resTxt["leftPaddingMeta"] + "px" });
    $(".msg:first .responsText").css({ "margin-top": resTxt["topMarginMeta"] + "px", "margin-right": resTxt["rightMarginMeta"] + "px", "margin-bottom": resTxt["bottomMarginMeta"] + "px", "margin-left": resTxt["leftMarginMeta"] + "px" });
    $(".msg:first .responsText").css({ "font-size": resTxt["fontSizeMeta"] + "px", "font-family": resTxt["fontFamilyMeta"], "color": resTxt["colorChangeMeta"], "font-weight": resTxt["fontWeightMeta"] });

    let resTxtUser = themeObje["responsText-user"][activeScreen];
    $(".msg:nth-child(2) .responsText").css({ "padding-top": resTxtUser["topPaddingMeta"] + "px", "padding-right": resTxtUser["rightPaddingMeta"] + "px", "padding-bottom": resTxtUser["bottomPaddingMeta"] + "px", "padding-left": resTxtUser["leftPaddingMeta"] + "px" });
    $(".msg:nth-child(2) .responsText").css({ "margin-top": resTxtUser["topMarginMeta"] + "px", "margin-right": resTxtUser["rightMarginMeta"] + "px", "margin-bottom": resTxtUser["bottomMarginMeta"] + "px", "margin-left": resTxtUser["leftMarginMeta"] + "px" });
    $(".msg:nth-child(2) .responsText").css({ "font-size": resTxtUser["fontSizeMeta"] + "px", "font-family": resTxtUser["fontFamilyMeta"], "color": resTxtUser["colorChangeMeta"], "font-weight": resTxtUser["fontWeightMeta"] });

    let msgBox = themeObje["msg"][activeScreen];
    $(".msg:first").css({ "padding-top": msgBox["topPaddingMeta"] + "px", "padding-right": msgBox["rightPaddingMeta"] + "px", "padding-bottom": msgBox["bottomPaddingMeta"] + "px", "padding-left": msgBox["leftPaddingMeta"] + "px" });
    $(".msg:first").css({ "margin-top": msgBox["topMarginMeta"] + "px", "margin-right": msgBox["rightMarginMeta"] + "px", "margin-bottom": msgBox["bottomMarginMeta"] + "px", "margin-left": msgBox["leftMarginMeta"] + "px" });
    $(".msg:first").css({ "background-color": msgBox["bgColorChangeMeta"] });
    $(".msg:first").css({ "border-radius": msgBox["topBorderRadiusMeta"] + "px" + " " + msgBox["rightBorderRadiusMeta"] + "px" + " " + msgBox["bottomBorderRadiusMeta"] + "px" + " " + msgBox["leftBorderRadiusMeta"] + "px" });


    let msgUserBox = themeObje["msg-user"][activeScreen];
    $(".msg:nth-child(2)").css({ "padding-top": msgUserBox["topPaddingMeta"] + "px", "padding-right": msgUserBox["rightPaddingMeta"] + "px", "padding-bottom": msgUserBox["bottomPaddingMeta"] + "px", "padding-left": "auto" });
    $(".msg:nth-child(2)").css({ "margin-top": msgUserBox["topMarginMeta"] + "px", "margin-right": msgUserBox["rightMarginMeta"] + "px", "margin-bottom": msgUserBox["bottomMarginMeta"] + "px", "margin-left": msgUserBox["leftMarginMeta"] + "px" });
    $(".msg:nth-child(2)").css({ "background-color": msgUserBox["bgColorChangeMeta"] });
    $(".msg:nth-child(2)").css({ "border-radius": msgUserBox["topBorderRadiusMeta"] + "px" + " " + msgUserBox["rightBorderRadiusMeta"] + "px" + " " + msgUserBox["bottomBorderRadiusMeta"] + "px" + " " + msgUserBox["leftBorderRadiusMeta"] + "px" });



    let Messenger_content = themeObje["Messenger_content"][activeScreen];
    $(".Messenger_content").css({ "padding-top": Messenger_content["topPaddingMeta"] + "px", "padding-right": Messenger_content["rightPaddingMeta"] + "px", "padding-bottom": Messenger_content["bottomPaddingMeta"] + "px", "padding-left": Messenger_content["leftPaddingMeta"] + "px" });
    $(".Messenger_content").css({ "margin-top": Messenger_content["topMarginMeta"] + "px", "margin-right": Messenger_content["rightMarginMeta"] + "px", "margin-bottom": Messenger_content["bottomMarginMeta"] + "px", "margin-left": Messenger_content["leftMarginMeta"] + "px" });
    $(".Messenger_content").css({ "border": "none !important;" });


    if (Messenger_content["mainVideo"]) {
        $("#video").removeClass("d-none");
        const video = document.getElementById('video');
        if (video) {
            video.setAttribute('src', Messenger_content["mainVideo"]);
            video.load(); video.play();
        }
        $(".background-img").css("background-image", "");
    } else if (Messenger_content["mainImage"]) {
        $(".background-img").css({ "background-image": "url(" + Messenger_content["mainImage"] + ")" });
        $(".background-img").removeClass("d-none");
        $("#video").addClass("d-none");
        videoPause();
    } else if (Messenger_content["bgColorChangeMeta"]) {
        $(".Messenger_content").css({ "background-color": Messenger_content["bgColorChangeMeta"] });
        $(".background-img").css("background-image", "");
        $(".background-img").addClass("d-none");
        $("#video").addClass("d-none");
        videoPause();
    }
    if (!Messenger_content["mainVideo"] && Messenger_content["mainAudio"]) {
        const audio = document.getElementById('audio');
        if (audio) {
            audio.setAttribute('src', Messenger_content["mainAudio"]);
            audio.load(); audio.play();

        }
        videoPause();
    }



    let mytext = themeObje["mytext"][activeScreen];
    $("#mytext").css({ "padding-top": mytext["topPaddingMeta"] + "px", "padding-right": mytext["rightPaddingMeta"] + "px", "padding-bottom": mytext["bottomPaddingMeta"] + "px", "padding-left": mytext["leftPaddingMeta"] + "px" });
    $("#mytext").css({ "margin-top": mytext["topMarginMeta"] + "px", "margin-right": mytext["rightMarginMeta"] + "px", "margin-bottom": mytext["bottomMarginMeta"] + "px", "margin-left": mytext["leftMarginMeta"] + "px" });
    $("#mytext").css({ "font-size": mytext["fontSizeMeta"] + "px", "font-family": mytext["fontFamilyMeta"], "color": mytext["colorChangeMeta"], "font-weight": mytext["fontWeightMeta"] });

    let mytextbg = themeObje["mytext-bg"][activeScreen];
    $(".Input-blank").css({ "padding-top": mytextbg["topPaddingMeta"] + "px", "padding-right": mytextbg["rightPaddingMeta"] + "px", "padding-bottom": mytextbg["bottomPaddingMeta"] + "px", "padding-left": mytextbg["leftPaddingMeta"] + "px" });
    $(".Input-blank").css({ "margin-top": mytextbg["topMarginMeta"] + "px", "margin-right": mytextbg["rightMarginMeta"] + "px", "margin-bottom": mytextbg["bottomMarginMeta"] + "px", "margin-left": mytextbg["leftMarginMeta"] + "px" });
    $(".Input-blank").css({ "background-color": mytextbg["bgColorChangeMeta"] });

    let Messenger_header = themeObje["Messenger_header"][activeScreen];
    $(".Messenger_header").css({ "background-color": Messenger_header["bgColorChangeMeta"] });

    // .css({"background-color":bgColor});

    let timeTxt = themeObje["time"][activeScreen];
    $(".msg:first .time").css({ "padding-top": timeTxt["topPaddingMeta"] + "px", "padding-right": timeTxt["rightPaddingMeta"] + "px", "padding-bottom": timeTxt["bottomPaddingMeta"] + "px", "padding-left": timeTxt["leftPaddingMeta"] + "px" });
    $(".msg:first .time").css({ "margin-top": timeTxt["topMarginMeta"] + "px", "margin-right": timeTxt["rightMarginMeta"] + "px", "margin-bottom": timeTxt["bottomMarginMeta"] + "px", "margin-left": timeTxt["leftMarginMeta"] + "px" });
    $(".msg:first .time").css({ "font-size": timeTxt["fontSizeMeta"] + "px", "font-family": timeTxt["fontFamilyMeta"], "color": timeTxt["colorChangeMeta"], "font-weight": timeTxt["fontWeightMeta"] });

    let timeTxtUser = themeObje["time-user"][activeScreen];
    $(".msg:nth-child(2) .time").css({ "padding-top": timeTxtUser["topPaddingMeta"] + "px", "padding-right": timeTxtUser["rightPaddingMeta"] + "px", "padding-bottom": timeTxtUser["bottomPaddingMeta"] + "px", "padding-left": timeTxtUser["leftPaddingMeta"] + "px" });
    $(".msg:nth-child(2) .time").css({ "margin-top": timeTxtUser["topMarginMeta"] + "px", "margin-right": timeTxtUser["rightMarginMeta"] + "px", "margin-bottom": timeTxtUser["bottomMarginMeta"] + "px", "margin-left": timeTxtUser["leftMarginMeta"] + "px" });
    $(".msg:nth-child(2) .time").css({ "font-size": timeTxtUser["fontSizeMeta"] + "px", "font-family": timeTxtUser["fontFamilyMeta"], "color": timeTxtUser["colorChangeMeta"], "font-weight": timeTxtUser["fontWeightMeta"] });


}
function designUpdateOld() {
    let itemActive = "";
    let isAvtr = false;
    let activeScreen = $(".screenType.active").attr("data-type");
    if ($(".avtr").hasClass("activeItemBot")) {
        itemActive = $(".avtr");
        itemKey = "avtr";
        isAvtr = true;
    }
    if ($(".Messenger_prompt").hasClass("activeItemBot")) {
        itemActive = $(".Messenger_prompt");
        itemKey = "Messenger_prompt";
    }
    if ($(".responsText").hasClass("activeItemBot")) {
        if ($(".activeItemBot").parent().hasClass("user")) {
            itemActive = $(".msg:nth-child(2) .responsText");
            itemKey = "responsText-user";
        } else {
            itemActive = $(".msg:first .responsText");
            itemKey = "responsText";
        }
    }
    if ($(".msg").hasClass("activeItemBot")) {
        if ($(".activeItemBot").hasClass("user")) {
            itemActive = $(".msg:nth-child(2)");
            itemKey = "msg-user";

        } else {
            itemActive = $(".msg:first");
            itemKey = "msg";
        }
    }
    if ($(".Messenger_content").hasClass("activeItemBot")) {
        itemKey = "Messenger_content";
        itemActive = $(".Messenger_content");
    }
    if ($(".Input-blank").hasClass("activeItemBot")) {
        itemActive = $(".Input-blank");
    }
    if ($(".Input_field").hasClass("activeItemBot")) {
        itemActive = $(".Input_field");
    }

    /**************************************************************************************/

    if ($(".paddingMeta").hasClass("active")) {
        let tPadding = $(".topPaddingMeta input").val();
        let rPadding = $(".rightPaddingMeta input").val();
        let bPadding = $(".bottomPaddingMeta input").val();
        let lPadding = $(".leftPaddingMeta input").val();
        console.log("padding", tPadding, rPadding, bPadding, lPadding);
        itemActive.css({ "padding-top": tPadding + "px", "padding-right": rPadding + "px", "padding-bottom": bPadding + "px", "padding-left": lPadding + "px" });
        if (themeObje[itemKey][activeScreen].hasOwnProperty('topPaddingMeta')) {
            themeObje[itemKey][activeScreen]["topPaddingMeta"] = parseInt(tPadding);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('rightPaddingMeta')) {
            themeObje[itemKey][activeScreen]["rightPaddingMeta"] = parseInt(rPadding);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('bottomPaddingMeta')) {
            themeObje[itemKey][activeScreen]["bottomPaddingMeta"] = parseInt(bPadding);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('leftPaddingMeta')) {
            themeObje[itemKey][activeScreen]["leftPaddingMeta"] = parseInt(lPadding);
        }

    }
    if ($(".marginMeta").hasClass("active")) {
        let tMargin = $(".topMarginMeta input").val();
        let rMargin = $(".rightMarginMeta input").val();
        let bMargin = $(".bottomMarginMeta input").val();
        let lMargin = $(".leftMarginMeta input").val();
        if (itemKey == "msg-user") {
            lMargin = "auto";
        }
        console.log("margin", tMargin, rMargin, bMargin, lMargin);
        itemActive.css({ "margin-top": tMargin + "px", "margin-right": rMargin + "px", "margin-bottom": bMargin + "px", "margin-left": lMargin + "px" });
        if (themeObje[itemKey][activeScreen].hasOwnProperty('topMarginMeta')) {
            themeObje[itemKey][activeScreen]["topMarginMeta"] = parseInt(tMargin);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('rightMarginMeta')) {
            themeObje[itemKey][activeScreen]["rightMarginMeta"] = parseInt(rMargin);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('bottomMarginMeta')) {
            themeObje[itemKey][activeScreen]["bottomMarginMeta"] = parseInt(bMargin);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('leftMarginMeta')) {
            themeObje[itemKey][activeScreen]["leftMarginMeta"] = parseInt(lMargin);
        }


    }
    if ($(".heightMeta").hasClass("active")) {
        let height = $(".heightValueMeta input").val();
        console.log("height", height);
        itemActive.css({ "height": height + "px" });
        if (themeObje[itemKey][activeScreen].hasOwnProperty('heightValueMeta')) {
            themeObje[itemKey][activeScreen]["heightValueMeta"] = parseInt(height);
        }

    }
    if ($(".widthMeta").hasClass("active")) {
        let width = $(".widthValueMeta input").val();
        console.log("width", width);
        itemActive.css({ "width": width + "px" });
        if (themeObje[itemKey][activeScreen].hasOwnProperty('widthValueMeta')) {
            themeObje[itemKey][activeScreen]["widthValueMeta"] = parseInt(width);
        }
    }
    if ($(".borderRadiusMeta").hasClass("active")) {
        let tBorderRadius = $(".topBorderRadiusMeta input").val();
        let rBorderRadius = $(".rightBorderRadiusMeta input").val();
        let bBorderRadius = $(".bottomBorderRadiusMeta input").val();
        let lBorderRadius = $(".leftBorderRadiusMeta input").val();
        console.log("BorderRadius", tBorderRadius, rBorderRadius, bBorderRadius, lBorderRadius);
        if (isAvtr) {
            itemActive.find("figure").css({ "border-radius": tBorderRadius + "px" + " " + rBorderRadius + "px" + " " + bBorderRadius + "px" + " " + lBorderRadius + "px" });
        } else {
            itemActive.css({ "border-radius": tBorderRadius + "px" + " " + rBorderRadius + "px" + " " + bBorderRadius + "px" + " " + lBorderRadius + "px" });
        }

        if (themeObje[itemKey][activeScreen].hasOwnProperty('topBorderRadiusMeta')) {
            themeObje[itemKey][activeScreen]["topBorderRadiusMeta"] = parseInt(tBorderRadius);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('rightBorderRadiusMeta')) {
            themeObje[itemKey][activeScreen]["rightBorderRadiusMeta"] = parseInt(rBorderRadius);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('bottomBorderRadiusMeta')) {
            themeObje[itemKey][activeScreen]["bottomBorderRadiusMeta"] = parseInt(bBorderRadius);
        }
        if (themeObje[itemKey][activeScreen].hasOwnProperty('leftBorderRadiusMeta')) {
            themeObje[itemKey][activeScreen]["leftPaddleftBorderRadiusMetaingMeta"] = parseInt(lBorderRadius);
        }


    }
    if ($(".fontMeta").hasClass("active")) {
        let fontsize = $(".fontSizeMeta input").val();
        console.log("fontsize", fontsize);
        itemActive.css({ "font-size": fontsize + "px" });
        if (themeObje[itemKey][activeScreen].hasOwnProperty('fontSizeMeta')) {
            themeObje[itemKey][activeScreen]["fontSizeMeta"] = fontsize;
        }
    }
    if ($(".fontWeightMeta").hasClass("active")) {
        let fontweight = $(".fontWeightValueMeta").val();
        console.log("fontweight", fontweight);
        itemActive.css({ "font-weight": fontweight });
        if (themeObje[itemKey][activeScreen].hasOwnProperty('fontWeightMeta')) {
            themeObje[itemKey][activeScreen]["fontWeightMeta"] = fontweight;
        }
    }
    if ($(".fontFamilyMeta").hasClass("active")) {
        let fontFamily = $(".selectFontFamilyMeta").val();
        console.log("font family", fontFamily);
        itemActive.css({ "font-family": fontFamily });
        if (themeObje[itemKey][activeScreen].hasOwnProperty('fontFamilyMeta')) {
            themeObje[itemKey][activeScreen]["fontFamilyMeta"] = fontFamily;
        }
    }
    if ($(".colorChangeMeta").hasClass("active")) {
        let color = $(".textColorChangeMeta").val();
        console.log("Color", color);
        itemActive.css({ "color": color });
        if (themeObje[itemKey][activeScreen].hasOwnProperty('colorChangeMeta')) {
            themeObje[itemKey][activeScreen]["colorChangeMeta"] = color;
        }
    }
    if ($(".bgColorChangeMeta").hasClass("active")) {
        let bgColor = $(".backgroundColorChangeMeta").val();
        // console.log("background",bgColor);
        itemActive.css({ "background-color": bgColor });
        console.log("mainImageUpload", mainImageUpload);
        if (mainImageUpload == false) {
            if (themeObje[itemKey][activeScreen].hasOwnProperty('bgColorChangeMeta')) {
                themeObje[itemKey][activeScreen]["bgColorChangeMeta"] = bgColor;
            }
        }
    }
    // if($(".imageFileMeta").hasClass("active")){
    //     console.log("In");

    //     itemActive.find("figure").change(function(){

    //       });
    //     // itemActive.find("figure").onchange = evt => {
    //     // const [file] = itemActive.find("figure").files
    //     // if (file) {
    //     //   blah.src = URL.createObjectURL(file)
    //     // }
    // }
}

function designSetInHtml(themeObjInput, activeScreen = "desktop") {
    console.log("themeObjInput === ", themeObjInput);
    themeObje = themeObjInput;
    let avtr = themeObjInput["avtr"][activeScreen];
    $(".avtr").css({ "padding-top": avtr["topPaddingMeta"] + "px", "padding-right": avtr["rightPaddingMeta"] + "px", "padding-bottom": avtr["bottomPaddingMeta"] + "px", "padding-left": avtr["leftPaddingMeta"] + "px" });
    $(".avtr").css({ "margin-top": avtr["topMarginMeta"] + "px", "margin-right": avtr["rightMarginMeta"] + "px", "margin-bottom": avtr["bottomMarginMeta"] + "px", "margin-left": avtr["leftMarginMeta"] + "px" });
    $(".avtr").css({ "height": avtr["heightValueMeta"] + "px" });
    $(".avtr").css({ "width": avtr["widthValueMeta"] + "px" });
    $(".avtr").find("figure").css({ "border-radius": avtr["topBorderRadiusMeta"] + "px" + " " + avtr["rightBorderRadiusMeta"] + "px" + " " + avtr["bottomBorderRadiusMeta"] + "px" + " " + avtr["leftBorderRadiusMeta"] + "px", "background-image": "url(" + avtr['logoImage'] + ")" });

    let messenger_prompt = themeObjInput["Messenger_prompt"][activeScreen];
    $(".Messenger_prompt").css({ "padding-top": messenger_prompt["topPaddingMeta"] + "px", "padding-right": messenger_prompt["rightPaddingMeta"] + "px", "padding-bottom": messenger_prompt["bottomPaddingMeta"] + "px", "padding-left": messenger_prompt["leftPaddingMeta"] + "px" });
    $(".Messenger_prompt").css({ "margin-top": messenger_prompt["topMarginMeta"] + "px", "margin-right": messenger_prompt["rightMarginMeta"] + "px", "margin-bottom": messenger_prompt["bottomMarginMeta"] + "px", "margin-left": messenger_prompt["leftMarginMeta"] + "px" });
    $(".Messenger_prompt").css({ "font-size": messenger_prompt["fontSizeMeta"] + "px", "font-family": messenger_prompt["fontFamilyMeta"], "color": messenger_prompt["colorChangeMeta"], "font-weight": messenger_prompt["fontWeightMeta"] });

    let resTxt = themeObjInput["responsText"][activeScreen];
    $(".msg:first .responsText").css({ "padding-top": resTxt["topPaddingMeta"] + "px", "padding-right": resTxt["rightPaddingMeta"] + "px", "padding-bottom": resTxt["bottomPaddingMeta"] + "px", "padding-left": resTxt["leftPaddingMeta"] + "px" });
    $(".msg:first .responsText").css({ "margin-top": resTxt["topMarginMeta"] + "px", "margin-right": resTxt["rightMarginMeta"] + "px", "margin-bottom": resTxt["bottomMarginMeta"] + "px", "margin-left": resTxt["leftMarginMeta"] + "px" });
    $(".msg:first .responsText").css({ "font-size": resTxt["fontSizeMeta"] + "px", "font-family": resTxt["fontFamilyMeta"], "color": resTxt["colorChangeMeta"], "font-weight": resTxt["fontWeightMeta"] });

    let resTxtUser = themeObjInput["responsText-user"][activeScreen];
    $(".msg:nth-child(2) .responsText").css({ "padding-top": resTxtUser["topPaddingMeta"] + "px", "padding-right": resTxtUser["rightPaddingMeta"] + "px", "padding-bottom": resTxtUser["bottomPaddingMeta"] + "px", "padding-left": resTxtUser["leftPaddingMeta"] + "px" });
    $(".msg:nth-child(2) .responsText").css({ "margin-top": resTxtUser["topMarginMeta"] + "px", "margin-right": resTxtUser["rightMarginMeta"] + "px", "margin-bottom": resTxtUser["bottomMarginMeta"] + "px", "margin-left": resTxtUser["leftMarginMeta"] + "px" });
    $(".msg:nth-child(2) .responsText").css({ "font-size": resTxtUser["fontSizeMeta"] + "px", "font-family": resTxtUser["fontFamilyMeta"], "color": resTxtUser["colorChangeMeta"], "font-weight": resTxtUser["fontWeightMeta"] });

    let msgBox = themeObjInput["msg"][activeScreen];
    $(".msg:first").css({ "padding-top": msgBox["topPaddingMeta"] + "px", "padding-right": msgBox["rightPaddingMeta"] + "px", "padding-bottom": msgBox["bottomPaddingMeta"] + "px", "padding-left": msgBox["leftPaddingMeta"] + "px" });
    $(".msg:first").css({ "margin-top": msgBox["topMarginMeta"] + "px", "margin-right": msgBox["rightMarginMeta"] + "px", "margin-bottom": msgBox["bottomMarginMeta"] + "px", "margin-left": msgBox["leftMarginMeta"] + "px" });
    $(".msg:first").css({ "background-color": msgBox["bgColorChangeMeta"] });
    $(".msg:first").css({ "border-radius": msgBox["topBorderRadiusMeta"] + "px" + " " + msgBox["rightBorderRadiusMeta"] + "px" + " " + msgBox["bottomBorderRadiusMeta"] + "px" + " " + msgBox["leftBorderRadiusMeta"] + "px" });


    let msgUserBox = themeObjInput["msg-user"][activeScreen];
    $(".msg:nth-child(2)").css({ "padding-top": msgUserBox["topPaddingMeta"] + "px", "padding-right": msgUserBox["rightPaddingMeta"] + "px", "padding-bottom": msgUserBox["bottomPaddingMeta"] + "px", "padding-left": "auto" });
    $(".msg:nth-child(2)").css({ "margin-top": msgUserBox["topMarginMeta"] + "px", "margin-right": msgUserBox["rightMarginMeta"] + "px", "margin-bottom": msgUserBox["bottomMarginMeta"] + "px", "margin-left": msgUserBox["leftMarginMeta"] + "px" });
    $(".msg:nth-child(2)").css({ "background-color": msgUserBox["bgColorChangeMeta"] });
    $(".msg:nth-child(2)").css({ "border-radius": msgUserBox["topBorderRadiusMeta"] + "px" + " " + msgUserBox["rightBorderRadiusMeta"] + "px" + " " + msgUserBox["bottomBorderRadiusMeta"] + "px" + " " + msgUserBox["leftBorderRadiusMeta"] + "px" });



    let Messenger_content = themeObjInput["Messenger_content"][activeScreen];
    $(".Messenger_content").css({ "padding-top": Messenger_content["topPaddingMeta"] + "px", "padding-right": Messenger_content["rightPaddingMeta"] + "px", "padding-bottom": Messenger_content["bottomPaddingMeta"] + "px", "padding-left": Messenger_content["leftPaddingMeta"] + "px" });
    $(".Messenger_content").css({ "margin-top": Messenger_content["topMarginMeta"] + "px", "margin-right": Messenger_content["rightMarginMeta"] + "px", "margin-bottom": Messenger_content["bottomMarginMeta"] + "px", "margin-left": Messenger_content["leftMarginMeta"] + "px" });
    $(".Messenger_content").css({ "border": "none !important;" });


    if (Messenger_content["mainVideo"]) {
        $("#video").removeClass("d-none");
        const video = document.getElementById('video');
        if (video) {
            video.setAttribute('src', Messenger_content["mainVideo"]);
            video.load();
            video.play();
        }
        $(".background-img").css("background-image", "");
    } else if (Messenger_content["mainImage"]) {
        $(".background-img").css({ "background-image": "url(" + Messenger_content["mainImage"] + ")" });
        $(".background-img").removeClass("d-none");
        $("#video").addClass("d-none");
        videoPause();
    } else if (Messenger_content["bgColorChangeMeta"]) {
        $(".Messenger_content").css({ "background-color": Messenger_content["bgColorChangeMeta"] });
        $(".background-img").css("background-image", "");
        $(".background-img").addClass("d-none");
        $("#video").addClass("d-none");
        videoPause();
    }
    if (!Messenger_content["mainVideo"] && Messenger_content["mainAudio"]) {
        const audio = document.getElementById('audio');
        if (audio) {
            audio.setAttribute('src', Messenger_content["mainAudio"]);
            audio.load(); audio.play();
        }
        videoPause();
    }


    let mytext = themeObjInput["mytext"][activeScreen];
    $("#mytext").css({ "padding-top": mytext["topPaddingMeta"] + "px", "padding-right": mytext["rightPaddingMeta"] + "px", "padding-bottom": mytext["bottomPaddingMeta"] + "px", "padding-left": mytext["leftPaddingMeta"] + "px" });
    $("#mytext").css({ "margin-top": mytext["topMarginMeta"] + "px", "margin-right": mytext["rightMarginMeta"] + "px", "margin-bottom": mytext["bottomMarginMeta"] + "px", "margin-left": mytext["leftMarginMeta"] + "px" });
    $("#mytext").css({ "font-size": mytext["fontSizeMeta"] + "px", "font-family": mytext["fontFamilyMeta"], "color": mytext["colorChangeMeta"], "font-weight": mytext["fontWeightMeta"] });

    let mytextbg = themeObjInput["mytext-bg"][activeScreen];
    $(".Input-blank").css({ "padding-top": mytextbg["topPaddingMeta"] + "px", "padding-right": mytextbg["rightPaddingMeta"] + "px", "padding-bottom": mytextbg["bottomPaddingMeta"] + "px", "padding-left": mytextbg["leftPaddingMeta"] + "px" });
    $(".Input-blank").css({ "margin-top": mytextbg["topMarginMeta"] + "px", "margin-right": mytextbg["rightMarginMeta"] + "px", "margin-bottom": mytextbg["bottomMarginMeta"] + "px", "margin-left": mytextbg["leftMarginMeta"] + "px" });
    $(".Input-blank").css({ "background-color": mytextbg["bgColorChangeMeta"] });

    let Messenger_header = themeObjInput["Messenger_header"][activeScreen];
    $(".Messenger_header").css({ "background-color": Messenger_header["bgColorChangeMeta"] });

    // .css({"background-color":bgColor});

    let timeTxt = themeObjInput["time"][activeScreen];
    $(".msg:first .time").css({ "padding-top": timeTxt["topPaddingMeta"] + "px", "padding-right": timeTxt["rightPaddingMeta"] + "px", "padding-bottom": timeTxt["bottomPaddingMeta"] + "px", "padding-left": timeTxt["leftPaddingMeta"] + "px" });
    $(".msg:first .time").css({ "margin-top": timeTxt["topMarginMeta"] + "px", "margin-right": timeTxt["rightMarginMeta"] + "px", "margin-bottom": timeTxt["bottomMarginMeta"] + "px", "margin-left": timeTxt["leftMarginMeta"] + "px" });
    $(".msg:first .time").css({ "font-size": timeTxt["fontSizeMeta"] + "px", "font-family": timeTxt["fontFamilyMeta"], "color": timeTxt["colorChangeMeta"], "font-weight": timeTxt["fontWeightMeta"] });

    let timeTxtUser = themeObjInput["time-user"][activeScreen];
    $(".msg:nth-child(2) .time").css({ "padding-top": timeTxtUser["topPaddingMeta"] + "px", "padding-right": timeTxtUser["rightPaddingMeta"] + "px", "padding-bottom": timeTxtUser["bottomPaddingMeta"] + "px", "padding-left": timeTxtUser["leftPaddingMeta"] + "px" });
    $(".msg:nth-child(2) .time").css({ "margin-top": timeTxtUser["topMarginMeta"] + "px", "margin-right": timeTxtUser["rightMarginMeta"] + "px", "margin-bottom": timeTxtUser["bottomMarginMeta"] + "px", "margin-left": timeTxtUser["leftMarginMeta"] + "px" });
    $(".msg:nth-child(2) .time").css({ "font-size": timeTxtUser["fontSizeMeta"] + "px", "font-family": timeTxtUser["fontFamilyMeta"], "color": timeTxtUser["colorChangeMeta"], "font-weight": timeTxtUser["fontWeightMeta"] });


}

var fonts = [
    "Aclonica",
    "Allan",
    "Annie Use Your Telescope",
    "Anonymous Pro",
    "Allerta Stencil",
    "Allerta",
    "Amaranth",
    "Anton",
    "Architects Daughter",
    "Arimo",
    "Artifika",
    "Arvo",
    "Asset",
    "Astloch",
    "Auto",
    "Bangers",
    "Bentham",
    "Bevan",
    "Bigshot One",
    "Bowlby One",
    "Bowlby One SC",
    "Brawler",
    "Buda:300",
    "Cabin",
    "Calligraffitti",
    "Candal",
    "Cantarell",
    "Cardo",
    "Carter One",
    "Caudex",
    "Cedarville Cursive",
    "Cherry Cream Soda",
    "Chewy",
    "Coda",
    "Coming Soon",
    "Copse",
    "Corben:700",
    "Cousine",
    "Covered By Your Grace",
    "Crafty Girls",
    "Crimson Text",
    "Crushed",
    "Cuprum",
    "Cursive",
    "Damion",
    "Dancing Script",
    "Dawning of a New Day",
    "Didact Gothic",
    "Droid Sans",
    "Droid Sans Mono",
    "Droid Serif",
    "EB Garamond",
    "Emoji",
    "Expletus Sans",
    "Fangsong",
    "Fantasy",
    "Fontdiner Swanky",
    "FontAwesome",
    "Font Awesome 5 Free",
    "Forum",
    "Francois One",
    "Geo",
    "Give You Glory",
    "Goblin One",
    "Goudy Bookletter 1911",
    "Gravitas One",
    "Gruppo",
    "Hammersmith One",
    "Holtwood One SC",
    "Homemade Apple",
    "Inconsolata",
    "Indie Flower",
    "IM Fell DW Pica",
    "IM Fell DW Pica SC",
    "IM Fell Double Pica",
    "IM Fell Double Pica SC",
    "IM Fell English",
    "IM Fell English SC",
    "IM Fell French Canon",
    "IM Fell French Canon SC",
    "IM Fell Great Primer",
    "IM Fell Great Primer SC",
    "Inherit",
    "Irish Grover",
    "Irish Growler",
    "Istok Web",
    "Josefin Sans",
    "Josefin Slab",
    "Judson",
    "Jura",
    "Jura:500",
    "Jura:600",
    "Just Another Hand",
    "Just Me Again Down Here",
    "Kameron",
    "Kenia",
    "Kranky",
    "Kreon",
    "Kristi",
    "La Belle Aurore",
    "Lato:100",
    "Lato:100italic",
    "Lato:300",
    "Lato",
    "Lato:bold",
    "Lato:900",
    "League Script",
    "Lekton",
    "Limelight",
    "Lobster",
    "Lobster Two",
    "Lora",
    "Love Ya Like A Sister",
    "Loved by the King",
    "Luckiest Guy",
    "Maiden Orange",
    "Mako",
    "Maven Pro",
    "Maven Pro:500",
    "Maven Pro:700",
    "Maven Pro:900",
    "Meddon",
    "MedievalSharp",
    "Megrim",
    "Merriweather",
    "Metrophobic",
    "Michroma",
    "Miltonian Tattoo",
    "Miltonian",
    "Modern Antiqua",
    "Monofett",
    "Monospace",
    "Molengo",
    "Mountains of Christmas",
    "Muli:300",
    "Muli",
    "Neucha",
    "Neuton",
    "News Cycle",
    "Nixie One",
    "Nobile",
    "Nova Cut",
    "Nova Flat",
    "Nova Mono",
    "Nova Oval",
    "Nova Round",
    "Nova Script",
    "Nova Slim",
    "Nova Square",
    "Nunito:light",
    "Nunito",
    "OFL Sorts Mill Goudy TT",
    "Old Standard TT",
    "Open Sans:300",
    "Open Sans",
    "Open Sans:600",
    "Open Sans:800",
    "Open Sans Condensed:300",
    "Orbitron",
    "Orbitron:500",
    "Orbitron:700",
    "Orbitron:900",
    "Oswald",
    "Over the Rainbow",
    "Reenie Beanie",
    "Pacifico",
    "Patrick Hand",
    "Paytone One",
    "Permanent Marker",
    "Philosopher",
    "Play",
    "Playfair Display",
    "Podkova",
    "'Poppins'",
    "'Poppins', sans-serif",
    "PT Sans",
    "PT Sans Narrow",
    "PT Sans Narrow:regular,bold",
    "PT Serif",
    "PT Serif Caption",
    "Puritan",
    "Quattrocento",
    "Quattrocento Sans",
    "Radley",
    "Raleway:100",
    "Redressed",
    "Rock Salt",
    "Rokkitt",
    "Ruslan Display",
    "Sans-serif",
    "Schoolbell",
    "Shadows Into Light",
    "Shanti",
    "Sigmar One",
    "Six Caps",
    "Slackey",
    "Smythe",
    "Sniglet:800",
    "Special Elite",
    "Stardos Stencil",
    "Sue Ellen Francisco",
    "Sunshiney",
    "Swanky and Moo Moo",
    "Syncopate",
    "Tangerine",
    "Tenor Sans",
    "Terminal Dosis Light",
    "The Girl Next Door",
    "Tinos",
    "Ubuntu",
    "Ultra",
    "Unkempt",
    "UnifrakturCook:bold",
    "UnifrakturMaguntia",
    "Varela",
    "Varela Round",
    "Vibur",
    "Vollkorn",
    "VT323",
    "Waiting for the Sunrise",
    "Wallpoet",
    "Walter Turncoat",
    "Wire One",
    "Yanone Kaffeesatz",
    "Yanone Kaffeesatz:300",
    "Yanone Kaffeesatz:400",
    "Yanone Kaffeesatz:700",
    "Yeseva One",
    "Zeyada"];

let fontDropDown = "";
fonts.map(function (f) {
    fontDropDown += "<option style='font-family: " + f + "' value=\"" + f + "\">" + f + "</option>";

    // $('link:last').after('<link href="https://fonts.googleapis.com/css?family=' + link + '" rel="stylesheet" type="text/css">');

})

$(".selectFontFamilyMeta").html(fontDropDown);

